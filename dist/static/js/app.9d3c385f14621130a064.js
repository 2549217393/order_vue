webpackJsonp([1],{"4wtN":function(e,t){},"5to0":function(e,t){},FVS7:function(e,t){},N0Rq:function(e,t,r){e.exports=r.p+"static/img/no.22e5228.jpg"},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=r("VU/8")({name:"App"},n,!1,function(e){r("gsu9")},null,null).exports,a=r("/ocq"),s=r("mtWM"),l=r.n(s),u=l.a.create({baseURL:"http://localhost:8082",timeout:5e3,withCredentials:!0});var c={name:"HelloWorld",data:function(){return{loginForm:{userName:void 0,userPwd:void 0}}},methods:{handleLogin:function(){var e,t=this;return void 0==this.loginForm.userName||""==this.loginForm.userName?(this.msgError("用户名不能为空"),!1):void 0==this.loginForm.userPwd||""==this.loginForm.userPwd?(this.msgError("密码不能为空"),!1):void(e=this.loginForm,u({url:"/order/login",method:"post",data:e})).then(function(e){"true"==e.data.result?t.$router.push({path:"/Main"}):t.msgError(e.data.error)})},register:function(){this.$router.push({path:"/Register"})},goMain:function(){this.$router.push({path:"/Main"})}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("el-form",{ref:"loginForm",model:{value:e.loginForm,callback:function(t){e.loginForm=t},expression:"loginForm"}},[r("h3",{staticClass:"title"},[e._v("在线购物系统")]),e._v(" "),r("el-form-item",{attrs:{prop:"userName"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{label:"账号",type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"userPwd"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.userPwd,callback:function(t){e.$set(e.loginForm,"userPwd",t)},expression:"loginForm.userPwd"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("登录")]),e._v(" "),r("el-button",{on:{click:e.register}},[e._v("注册")]),e._v(" "),r("el-button",{attrs:{type:"info",icon:"el-icon-star-off",plain:""},on:{click:e.goMain}},[e._v("先去逛逛")])],1)],1)},staticRenderFns:[]};var p=r("VU/8")(c,d,!1,function(e){r("4wtN")},"data-v-2da2a647",null).exports;function m(e){return u({url:"/order/product/"+e,method:"get"})}var g={name:"hello",data:function(){return{queryParams:{goodsName:void 0,pageSize:2,pageNum:1},meGo:"http://127.0.0.1:8080/MyOrder/",goodsList:{},loading:!1,open:!1,title:"",context:"",checkLogin:!1,total:1}},methods:{getList:function(){var e,t=this;this.loading=!0,(e=this.queryParams,u({url:"/order/product/list",method:"post",params:e})).then(function(e){t.goodsList=e.data.goodsList,t.total=e.data.total,t.loading=!1})},handleQuery:function(){this.getList()},show:function(e){var t=this;m(e.goodsId).then(function(e){t.context=e.data.info,t.open=!0,t.title="商品展示"})},cancel:function(){this.open=!1},buy:function(e){var t=this,r=e.goodsId;1==confirm("是否要购买"+e.goodsName+"?","温馨提示")&&function(e){return u({url:"/order/product/addOrder/"+e,method:"get"})}(r).then(function(e){return"null"==e.data.error?(t.msgError("您还未进行登录，无法购买"),t.checkLogin=!0,!1):null!=e.data.error?(t.msgError(e.data.error),!1):void("success"==e.data.result&&(t.msgSuccess("下单成功！请在45分钟内进行支付操作"),t.getList()))})},goLogin:function(){this.$router.push({path:"/"})},goOrder:function(){this.$router.push({path:"/MyOrder"})}},created:function(){this.checkLogin=!1,this.getList()}},f={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:24,xs:24}},[e.checkLogin?o("div",{staticStyle:{width:"100px",position:"absolute",left:"30px"}},[o("el-button",{attrs:{type:"success",icon:"el-icon-arrow-left",plain:""},on:{click:e.goLogin}},[e._v("前往登录")])],1):o("div",{staticStyle:{width:"100px",position:"absolute",right:"30px"}},[o("el-button",{attrs:{type:"success",plain:""},on:{click:e.goOrder}},[e._v("我的订单"),o("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1),e._v(" "),o("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[o("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[o("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.goodsName,callback:function(t){e.$set(e.queryParams,"goodsName",t)},expression:"queryParams.goodsName"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.goodsList}},[o("el-table-column",{attrs:{label:"商品主图",align:"center",prop:"picUrl"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.picUrl?o("img",{attrs:{src:e.meGo+t.row.picUrl,width:"50px",height:"50px"}}):o("img",{attrs:{src:r("N0Rq"),width:"50px",height:"50px"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"商品编号",align:"center",prop:"goodsId"}}),e._v(" "),o("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"goodsName"}}),e._v(" "),o("el-table-column",{attrs:{label:"商品库存",align:"center",prop:"goodsCount"}}),e._v(" "),o("el-table-column",{attrs:{label:"商品价格",align:"center",prop:"goodsPrice"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(r){return e.show(t.row)}}},[e._v("商品详情")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-add"},on:{click:function(r){return e.buy(t.row)}}},[e._v("购买")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[o("div",{domProps:{innerHTML:e._s(e.context)}}),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.cancel}},[e._v("返回")])],1)])],1)],1),e._v(" "),o("div",{staticClass:"block"},[o("el-pagination",{attrs:{background:"","hide-on-single-page":!0,"page-sizes":[2,3,5,10],layout:"total, sizes, prev, pager, next, jumper",total:e.total,"page-size":e.queryParams.pageSize,"current-page":e.queryParams.pageNum},on:{"update:pageSize":function(t){return e.$set(e.queryParams,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParams,"pageSize",t)},"update:currentPage":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:current-page":function(t){return e.$set(e.queryParams,"pageNum",t)},"current-change":e.getList,"size-change":e.getList}})],1)],1)},staticRenderFns:[]};var h=r("VU/8")(g,f,!1,function(e){r("5to0")},"data-v-610e7102",null).exports,v={name:"Register",data:function(){return{registerForm:{userName:void 0,userPwd:void 0}}},methods:{handleRegister:function(){var e,t=this;return void 0==this.registerForm.userName||""==this.registerForm.userName?(this.msgError("用户名不能为空"),!1):void 0==this.registerForm.userPwd||""==this.registerForm.userPwd?(this.msgError("密码不能为空"),!1):void(e=this.registerForm,u({url:"/order/register",method:"post",data:e})).then(function(e){"true"==e.data.success?(t.msgSuccess("注册成功,请登录"),t.$router.push({path:"/"})):t.msgError(e.data.error)})},back:function(){this.$router.go(-1)}}},y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("el-form",{ref:"loginForm",model:{value:e.registerForm,callback:function(t){e.registerForm=t},expression:"registerForm"}},[r("h3",{staticClass:"title"},[e._v("在线购物系统——注册")]),e._v(" "),r("el-form-item",{attrs:{prop:"userName"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{label:"账号",type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.registerForm.userName,callback:function(t){e.$set(e.registerForm,"userName",t)},expression:"registerForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"userPwd"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.userPwd,callback:function(t){e.$set(e.registerForm,"userPwd",t)},expression:"registerForm.userPwd"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleRegister}},[e._v("注册")]),e._v(" "),r("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1)},staticRenderFns:[]};var b=r("VU/8")(v,y,!1,function(e){r("FVS7")},"data-v-8dbe64c2",null).exports,_={name:"MyOrder",data:function(){return{meGo:"http://127.0.0.1:8080/MyOrder/",orderList:{},loading:!1,open:!1,title:"",context:"",checkLogin:!1}},methods:{getList:function(){var e=this;this.loading=!0,u({url:"/order/product/allOrder",method:"get"}).then(function(t){if("null"==t.data.error)return e.msgError("您还未进行登录，请前往登录"),e.checkLogin=!0,e.loading=!1,!1;e.orderList=t.data.orderList,e.loading=!1})},show:function(e){var t=this;m(e.goodsId).then(function(e){t.context=e.data.info,t.open=!0,t.title="所购商品"})},cancel:function(){this.open=!1},buy:function(e){var t=this,r=e.orderId;1==confirm("是否要支付?","温馨提示")&&function(e){return u({url:"/order/product/pay/"+e,method:"get"})}(r).then(function(e){if(null!=e.data.error)return t.msgError(e.data.error),!1;"success"==e.data.result&&(t.msgSuccess("支付成功"),t.getList())})},goLogin:function(){this.$router.push({path:"/"})},back:function(){this.$router.go(-1)}},created:function(){this.checkLogin=!1,this.getList()}},w={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24,xs:24}},[e.checkLogin?r("div",{staticStyle:{width:"100px",position:"absolute",left:"30px"}},[r("el-button",{attrs:{type:"success",icon:"el-icon-arrow-left",plain:""},on:{click:e.goLogin}},[e._v("前往登录")])],1):r("div",{staticStyle:{width:"100px",position:"absolute",left:"30px"}},[r("el-button",{attrs:{type:"success",icon:"el-icon-arrow-left",plain:""},on:{click:e.back}},[e._v("返回")])],1),e._v(" "),r("el-form",{ref:"queryForm",attrs:{inline:!0,"label-width":"68px"}},[r("el-form-item",[r("h2",{staticStyle:{"font-family":"华文楷体"}},[e._v("您的订单")])])],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.orderList}},[r("el-table-column",{attrs:{label:"订单号",align:"center",prop:"orderId"}}),e._v(" "),r("el-table-column",{attrs:{label:"商品号",align:"center",prop:"goodsId"}}),e._v(" "),r("el-table-column",{attrs:{label:"交易金额",align:"center",prop:"orderPrice"}}),e._v(" "),r("el-table-column",{attrs:{label:"下单时间",align:"center",prop:"orderTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.parseTime(t.row.orderTime)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"支付状态",align:"center",prop:"orderStatus"}}),e._v(" "),r("el-table-column",{attrs:{label:"超时时间",align:"center",prop:"overTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.parseTime(t.row.overTime)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(r){return e.show(t.row)}}},[e._v("商品详情")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-add"},on:{click:function(r){return e.buy(t.row)}}},[e._v("支付")])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[r("div",{domProps:{innerHTML:e._s(e.context)}}),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("返回")])],1)])],1)],1)],1)},staticRenderFns:[]};var k=r("VU/8")(_,w,!1,function(e){r("fR3J")},"data-v-74ffe4ef",null).exports;o.default.use(a.a);var x=new a.a({routes:[{path:"/",name:"HelloWorld",component:p},{path:"/Main",component:h},{path:"/Register",component:b},{path:"/MyOrder",component:k}]}),F=r("Rf8U"),L=r.n(F),P=r("zL8q"),N=r.n(P),S=(r("tvR6"),r("fZjL"),r("pFYg")),$=r.n(S);Object({NODE_ENV:"production"}).VUE_APP_BASE_API;o.default.use(N.a),l.a.defaults.withCredentials=!0,o.default.use(L.a,l.a),o.default.config.productionTip=!1,o.default.prototype.$axios=l.a,o.default.prototype.parseTime=function(e,t){if(0===arguments.length)return null;var r=t||"{y}-{m}-{d} {h}:{i}:{s}",o=void 0;"object"===(void 0===e?"undefined":$()(e))?o=e:("string"==typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"==typeof e&&10===e.toString().length&&(e*=1e3),o=new Date(e));var n={y:o.getFullYear(),m:o.getMonth()+1,d:o.getDate(),h:o.getHours(),i:o.getMinutes(),s:o.getSeconds(),a:o.getDay()};return r.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var r=n[t];return"a"===t?["日","一","二","三","四","五","六"][r]:(e.length>0&&r<10&&(r="0"+r),r||0)})},o.default.prototype.msgSuccess=function(e){this.$message({showClose:!0,message:e,type:"success"})},o.default.prototype.msgError=function(e){this.$message({showClose:!0,message:e,type:"error"})},new o.default({el:"#app",router:x,components:{App:i},template:"<App/>"})},fR3J:function(e,t){},gsu9:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9d3c385f14621130a064.js.map